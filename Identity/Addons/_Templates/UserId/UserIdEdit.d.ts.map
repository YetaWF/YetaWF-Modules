{"version":3,"sources":["Addons/YetaWF/Identity/_Templates/UserId/UserIdEdit.ts"],"names":[],"mappings":"AAEA,kBAAU,eAAe,CAAC;IAEtB,UAAU,WAAW;QACjB,SAAS,EAAE,MAAM,CAAC;QAClB,QAAQ,EAAE,MAAM,CAAC;QACjB,MAAM,EAAE,MAAM,CAAC;QACf,MAAM,EAAE,MAAM,CAAC;KAClB;IAED,MAAa,mBAAoB,SAAQ,MAAM,CAAC,iBAAiB;QAE7D,OAAO,CAAC,KAAK,CAAc;QAC3B,OAAO,CAAC,OAAO,CAA6B;QAC5C,OAAO,CAAC,WAAW,CAAmB;QACtC,OAAO,CAAC,WAAW,CAAmB;QACtC,OAAO,CAAC,SAAS,CAAmB;oBAExB,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,WAAW;KAyBpD;CACJ","file":"UserIdEdit.d.ts","sourcesContent":["/* Copyright Â© 2019 Softel vdm, Inc. - https://yetawf.com/Documentation/YetaWF/Identity#License */\r\n\r\nnamespace YetaWF_Identity {\r\n\r\n    interface UserIdSetup {\r\n        GridAllId: string;\r\n        HiddenId: string;\r\n        NameId: string;\r\n        NoUser: string;\r\n    }\r\n\r\n    export class UserIdEditComponent extends YetaWF.ComponentBaseImpl {\r\n\r\n        private Setup: UserIdSetup;\r\n        private GridAll: YetaWF_ComponentsHTML.Grid;\r\n        private buttonClear: HTMLImageElement;\r\n        private inputHidden: HTMLInputElement;\r\n        private inputName: HTMLInputElement;\r\n\r\n        constructor(controlId: string, setup: UserIdSetup) {\r\n            super(controlId);\r\n            this.Setup = setup;\r\n\r\n            this.GridAll = YetaWF.ComponentBaseDataImpl.getControlById(this.Setup.GridAllId, YetaWF_ComponentsHTML.Grid.SELECTOR);\r\n            this.inputHidden = $YetaWF.getElementById(this.Setup.HiddenId) as HTMLInputElement;\r\n            this.inputName = $YetaWF.getElementById(this.Setup.NameId) as HTMLInputElement;\r\n            this.buttonClear = $YetaWF.getElement1BySelector(\".t_clear\", [this.Control]) as HTMLImageElement;\r\n\r\n            $YetaWF.registerEventHandler(this.buttonClear, \"click\", null, (ev: MouseEvent): boolean => {\r\n                this.inputHidden.value = \"0\";\r\n                this.inputName.value = \"\";\r\n                return false;\r\n            });\r\n            this.GridAll.Control.addEventListener(\"grid_selectionchange\", (evt: Event): void => {\r\n                var index = this.GridAll.SelectedIndex();\r\n                if (index < 0) return;\r\n                var tr = this.GridAll.GetTR(index);\r\n                var tdName = tr.children[0] as HTMLTableCellElement;\r\n                var inputUserId = $YetaWF.getElement1BySelector(\"input[name$='.UserId']\", [tdName]) as HTMLInputElement;\r\n                var name = tdName.innerText.trim();\r\n                this.inputName.value = name;\r\n                this.inputHidden.value = inputUserId.value;\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n"]}