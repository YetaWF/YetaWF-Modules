{"version":3,"sources":["Addons/YetaWF/ComponentsHTML/_Templates/SMTPServer/SMTPServer.ts"],"names":[],"mappings":"AAEA,kBAAU,qBAAqB,CAAC;IAE5B,MAAa,UAAU;QAEnB,OAAO,CAAC,OAAO,CAAc;QAC7B,OAAO,CAAC,MAAM,CAAmB;QACjC,OAAO,CAAC,IAAI,CAAmB;QAC/B,OAAO,CAAC,IAAI,CAAoB;QAChC,OAAO,CAAC,MAAM,CAAoB;oBAEf,EAAE,EAAE,MAAM;KAqChC;CACJ","file":"SMTPServer.d.ts","sourcesContent":["/* Copyright Â© 2019 Softel vdm, Inc. - https://yetawf.com/Documentation/YetaWF/ComponentsHTML#License */\r\n\r\nnamespace YetaWF_ComponentsHTML {\r\n\r\n    export class SMTPServer {\r\n\r\n        private Control: HTMLElement;\r\n        private Server: HTMLInputElement;\r\n        private Port: HTMLInputElement;\r\n        private Auth: HTMLSelectElement;\r\n        private Button: HTMLAnchorElement;\r\n\r\n        public constructor(id: string) {\r\n\r\n            this.Control = $YetaWF.getElementById(id);\r\n\r\n            this.Server = $YetaWF.getElement1BySelector(\"input[name$='.Server']\", [this.Control]) as HTMLInputElement;\r\n            this.Port = $YetaWF.getElement1BySelector(\"input[name$='.Port']\", [this.Control]) as HTMLInputElement;\r\n            this.Auth = $YetaWF.getElement1BySelector(\"select[name$='.Authentication']\", [this.Control]) as HTMLSelectElement;\r\n            this.Button = $YetaWF.getElement1BySelector(\".t_sendtestemail a\", [this.Control]) as HTMLAnchorElement;\r\n\r\n            $YetaWF.registerEventHandler(this.Button, \"click\", null, (ev: Event): boolean => {\r\n                var uri = new YetaWF.Url();\r\n                uri.parse(this.Button.href);\r\n                uri.removeSearch(\"Server\");\r\n                uri.removeSearch(\"Port\");\r\n                uri.removeSearch(\"Authentication\");\r\n                uri.removeSearch(\"UserName\");\r\n                uri.removeSearch(\"Password\");\r\n                uri.removeSearch(\"SSL\");\r\n\r\n                uri.addSearch(\"Server\", this.Server.value);\r\n                var port = this.Port.value;\r\n                if (port.trim() === \"\") {\r\n                    port = \"25\";\r\n                    this.Port.value = port;\r\n                }\r\n                uri.addSearch(\"Port\", port);\r\n                uri.addSearch(\"Authentication\", this.Auth.value);\r\n                var userName = $YetaWF.getElement1BySelector(\"input[name$='.UserName']\") as HTMLInputElement;\r\n                uri.addSearch(\"UserName\", userName.value);\r\n                var password = $YetaWF.getElement1BySelector(\"input[name$='.Password']\") as HTMLInputElement;\r\n                uri.addSearch(\"Password\", password.value);\r\n                var ssl = $YetaWF.getElement1BySelector(\"input[name$='.SSL']\") as HTMLInputElement;\r\n                uri.addSearch(\"SSL\", ssl.checked ? \"true\" : \"false\");\r\n                this.Button.href = uri.toUrl();\r\n                return true;\r\n            });\r\n        }\r\n    }\r\n}"]}