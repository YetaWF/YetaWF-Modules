{"version":3,"sources":["AddOns/YetaWF/ComponentsHTML/_Templates/PageSelection/PageSelectionEdit.ts"],"names":[],"mappings":"AAEA,kBAAU,qBAAqB,CAAC;IAK5B,MAAa,0BAA2B,SAAQ,MAAM,CAAC,qBAAqB;QAExE,gBAAuB,QAAQ,EAAE,MAAM,CAAiC;QAExE,OAAO,CAAC,UAAU,CAAkD;QACpE,OAAO,CAAC,KAAK,CAAoB;QACjC,OAAO,CAAC,OAAO,CAAiB;oBAEpB,SAAS,EAAE,MAAM;QAa7B,OAAO,CAAC,UAAU;KAYrB;CAKJ","file":"PageSelectionEdit.d.ts","sourcesContent":["/* Copyright Â© 2019 Softel vdm, Inc. - https://yetawf.com/Documentation/YetaWF/ComponentsHTML#License */\r\n\r\nnamespace YetaWF_ComponentsHTML {\r\n\r\n    //interface Setup {\r\n    //}\r\n\r\n    export class PageSelectionEditComponent extends YetaWF.ComponentBaseDataImpl {\r\n\r\n        public static readonly SELECTOR: string = \"div.yt_pageselection.t_edit\";\r\n\r\n        private SelectPage: YetaWF_ComponentsHTML.DropDownListEditComponent;\r\n        private APage: HTMLAnchorElement;\r\n        private DivLink: HTMLDivElement;\r\n\r\n        constructor(controlId: string/*, setup: Setup*/) {\r\n            super(controlId);\r\n            //this.Setup = setup;\r\n\r\n            this.SelectPage = YetaWF.ComponentBaseDataImpl.getControlFromSelector(\"select\", DropDownListEditComponent.SELECTOR, [this.Control]);\r\n            this.DivLink = $YetaWF.getElement1BySelector(\".t_link\", [this.Control]) as HTMLDivElement;\r\n            this.APage = $YetaWF.getElement1BySelector(\"a\", [this.DivLink]) as HTMLAnchorElement;\r\n\r\n            this.SelectPage.Control.addEventListener(\"dropdownlist_change\", (evt: Event): void => {\r\n                this.updatePage(this.SelectPage.value, \"\");\r\n            });\r\n            this.updatePage(this.SelectPage.value, \"\");\r\n        }\r\n        private updatePage(pageGuid: string|undefined|null, desc: string): void {\r\n            if (pageGuid === undefined || pageGuid === null || pageGuid === \"\" || pageGuid === \"00000000-0000-0000-0000-000000000000\") {\r\n                desc = \"\";\r\n                this.DivLink.style.display = \"none\";\r\n                //$desc.hide();\r\n            } else {\r\n                this.DivLink.style.display = \"inline\";\r\n                //$desc.show();\r\n            }\r\n            this.APage.href = `/!Page/${pageGuid}`;  // Globals.PageUrl\r\n            //$desc.text(desc);\r\n        }\r\n    }\r\n    // A <div> is being emptied. Destroy all controls the <div> may contain.\r\n    $YetaWF.registerClearDiv((tag: HTMLElement): void => {\r\n        PageSelectionEditComponent.clearDiv(tag, PageSelectionEditComponent.SELECTOR);\r\n    });\r\n}\r\n"]}