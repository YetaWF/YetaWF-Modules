{"version":3,"sources":["AddOns/YetaWF/ComponentsHTML/_Templates/Currency/Currency.tsx"],"names":[],"mappings":"AAEA,kBAAU,qBAAqB,CAAC;IAE5B,UAAiB,iBAAiB;QAC9B,cAAc,EAAE,MAAM,CAAC;KAC1B;IAED,MAAa,iBAAiB;QAC1B;;;WAGG;QACH,WAAW,CAAC,GAAG,EAAE,WAAW,GAAG,IAAI;KActC;CAaJ","file":"Currency.d.ts","sourcesContent":["/* Copyright Â© 2019 Softel vdm, Inc. - https://yetawf.com/Documentation/YetaWF/ComponentsHTML#License */\r\n\r\nnamespace YetaWF_ComponentsHTML {\r\n\r\n    export interface IPackageVolatiles {\r\n        CurrencyFormat: string;\r\n    }\r\n\r\n    export class CurrencyComponent {\r\n        /**\r\n         * Initializes all currency fields in the specified tag.\r\n         * @param tag - an element containing Currency template controls.\r\n         */\r\n        initSection(tag: HTMLElement): void {\r\n            var list: HTMLElement[] = $YetaWF.getElementsBySelector(\"input.yt_currency.t_edit\", [tag]);\r\n            for (let el of list) {\r\n                var d = el.getAttribute(\"data-min\");\r\n                var sd: number = d ? Number(d) : 0;\r\n                d = el.getAttribute(\"data-max\");\r\n                var ed: number = d ? Number(d) : 99999999.99;\r\n                $(el).kendoNumericTextBox({\r\n                    format: YVolatile.YetaWF_ComponentsHTML.CurrencyFormat,\r\n                    min: sd, max: ed,\r\n                    culture: YVolatile.Basics.Language\r\n                });\r\n            }\r\n        }\r\n    }\r\n    // initializes new currency elements on demand\r\n    $YetaWF.addWhenReady((section: HTMLElement): void => {\r\n        new CurrencyComponent().initSection(section);\r\n    });\r\n    // A <div> is being emptied. Destroy all kendoNumericTextBox the <div> may contain.\r\n    $YetaWF.registerClearDiv((tag: HTMLElement): void => {\r\n        var list: HTMLElement[] = $YetaWF.getElementsBySelector(\"input.yt_currency.t_edit\", [tag]);\r\n        for (let el of list) {\r\n            var numTextBox: kendo.ui.NumericTextBox = $(el).data(\"kendoNumericTextBox\");\r\n            if (numTextBox) numTextBox.destroy();\r\n        }\r\n    });\r\n}\r\n\r\n"]}