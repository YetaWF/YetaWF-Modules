{"version":3,"sources":["Addons/YetaWF/ComponentsHTML/_Templates/IntValue/IntValueEdit.ts"],"names":[],"mappings":";AAEA,kBAAU,qBAAqB,CAAC;IAE5B,UAAU,aAAa;QACnB,GAAG,EAAE,MAAM,CAAC;QACZ,GAAG,EAAE,MAAM,CAAC;QACZ,IAAI,EAAE,MAAM,CAAC;QACb,WAAW,EAAE,MAAM,CAAC;KACvB;IAED,MAAa,qBAAsB,SAAQ,MAAM,CAAC,qBAAqB;QAEnE,gBAAuB,QAAQ,EAAE,MAAM,CAAiD;QAExF,OAAO,CAAC,YAAY,CAAmB;QAEvC,SAAgB,mBAAmB,EAAE,KAAK,CAAC,EAAE,CAAC,cAAc,GAAG,IAAI,CAAQ;oBAE/D,SAAS,EAAE,MAAM,EAAE,KAAK,EAAE,aAAa;QAqB/C,KAAK,EAAI,MAAM;QAUZ,KAAK,IAAI,IAAI;QAOb,MAAM,CAAC,OAAO,EAAE,OAAO,GAAG,IAAI;KAOxC;CASJ","file":"IntValueEdit.d.ts","sourcesContent":["/* Copyright Â© 2019 Softel vdm, Inc. - https://yetawf.com/Documentation/YetaWF/ComponentsHTML#License */\r\n\r\nnamespace YetaWF_ComponentsHTML {\r\n\r\n    interface IntValueSetup {\r\n        Min: number;\r\n        Max: number;\r\n        Step: number;\r\n        NoEntryText: string;\r\n    }\r\n\r\n    export class IntValueEditComponent extends YetaWF.ComponentBaseDataImpl {\r\n\r\n        public static readonly SELECTOR: string = \"input.yt_intvalue_base.t_edit.k-input[name]\";\r\n\r\n        private InputControl: HTMLInputElement;\r\n\r\n        public readonly kendoNumericTextBox: kendo.ui.NumericTextBox | null = null;\r\n\r\n        constructor(controlId: string, setup: IntValueSetup) {\r\n            super(controlId);\r\n            this.InputControl = this.Control as HTMLInputElement;\r\n\r\n            $(this.InputControl).kendoNumericTextBox({\r\n                decimals: 0, format: \"n0\",\r\n                min: setup.Min, max: setup.Max,\r\n                placeholder: setup.NoEntryText,\r\n                step: setup.Step,\r\n                downArrowText: \"\",\r\n                upArrowText: \"\",\r\n                change: (e: kendo.ui.NumericTextBoxChangeEvent): void => {\r\n                    var event = document.createEvent(\"Event\");\r\n                    event.initEvent(\"intvalue_change\", true, true);\r\n                    this.Control.dispatchEvent(event);\r\n                    FormsSupport.validateElement(this.Control);\r\n                }\r\n            });\r\n            this.kendoNumericTextBox = $(this.InputControl).data(\"kendoNumericTextBox\");\r\n        }\r\n\r\n        get value(): number {\r\n            return parseInt(this.InputControl.value, 10);\r\n        }\r\n        set value(val: number) {\r\n            if (this.kendoNumericTextBox == null) {\r\n                this.InputControl.value = val.toString();\r\n            } else {\r\n                this.kendoNumericTextBox.value(val);\r\n            }\r\n        }\r\n        public clear(): void {\r\n            if (this.kendoNumericTextBox == null) {\r\n                this.InputControl.value = \"\";\r\n            } else {\r\n                this.kendoNumericTextBox.value(\"\");\r\n            }\r\n        }\r\n        public enable(enabled: boolean): void {\r\n            if (this.kendoNumericTextBox == null) {\r\n                $YetaWF.elementEnableToggle(this.InputControl, enabled);\r\n            } else {\r\n                this.kendoNumericTextBox.enable(enabled);\r\n            }\r\n        }\r\n    }\r\n\r\n    // A <div> is being emptied. Destroy all IntValues the <div> may contain.\r\n    $YetaWF.registerClearDiv((tag: HTMLElement): void => {\r\n        IntValueEditComponent.clearDiv<IntValueEditComponent>(tag, IntValueEditComponent.SELECTOR, (control: IntValueEditComponent): void => {\r\n            if (control.kendoNumericTextBox)\r\n                control.kendoNumericTextBox.destroy();\r\n        });\r\n    });\r\n}\r\n\r\n"]}