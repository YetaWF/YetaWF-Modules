{"version":3,"sources":["Addons/YetaWF/ComponentsHTML/_Addons/Popups/PopupsSupport.ts"],"names":[],"mappings":"AAIA,kBAAU,qBAAqB,CAAC;IAE5B,MAAa,kBAAkB;QAE3B;;;WAGG;QACI,QAAQ,IAAI,IAAI;KA4B1B;CACJ;AAED,QAAA,IAAI,aAAa,EAAE,qBAAqB,CAAC,kBAAmE,CAAC","file":"PopupsSupport.d.ts","sourcesContent":["/* Copyright Â© 2019 Softel vdm, Inc. - https://yetawf.com/Documentation/YetaWF/ComponentsHTML#License */\r\n\r\n/* This is only used by components in ComponentsHTML (this package) */\r\n\r\nnamespace YetaWF_ComponentsHTML {\r\n\r\n    export class PopupsSupportClass {\r\n\r\n        /**\r\n         * inline - as soon as we're loading, resize the popup window, if we're in a popup\r\n         * this is only used by full page loads (i.e., a popup using an iframe)\r\n         */\r\n        public pageLoad(): void {\r\n\r\n            if (YVolatile.Basics.IsInPopup) {\r\n\r\n                var $popupwin = $(\"#ypopup\", $(window.parent.document));\r\n                var popup = <kendo.ui.Window>window.parent.document.YPopupWindowActive;\r\n\r\n                // get the popup window height\r\n                var width: number = YVolatile.Skin.PopupWidth;\r\n                var height: number = YVolatile.Skin.PopupHeight;\r\n\r\n                popup.setOptions({\r\n                    width: width,\r\n                    height: height,\r\n                });\r\n                $YetaWF.setCondense($popupwin[0], width);\r\n                popup.center().open();\r\n\r\n                // show/hide the maximize button (not directly supported so we'll do it manually)\r\n                if ($popupwin.length === 0) throw \"Couldn't find popup window\";/*DEBUG*/\r\n                var $popWindow = $popupwin.closest(\".k-widget.k-window\");\r\n                if ($popWindow.length === 0) throw \"Couldn't find enclosing popup window\";/*DEBUG*/\r\n                if (YVolatile.Skin.PopupMaximize)\r\n                    $(\".k-window-action.k-button,.k-window-action.k-link\", $popWindow).eq(0).show();// show the maximize button\r\n                else\r\n                    $(\".k-window-action.k-button,.k-window-action.k-link\", $popWindow).eq(0).hide();// hide the maximize button\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nvar PopupsSupport: YetaWF_ComponentsHTML.PopupsSupportClass = new YetaWF_ComponentsHTML.PopupsSupportClass();\r\n\r\n// Page Load\r\n\r\n/**\r\n * Currently active popup window\r\n */\r\ndocument.YPopupWindowActive = null;\r\n/**\r\n * Initial full page load (popup in iframe)\r\n */\r\nPopupsSupport.pageLoad();"]}